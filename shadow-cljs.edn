;; shadow-cljs configuration
{:deps   {:aliases [:dev]}
 :builds {:app      {:target           :browser
                     :output-dir       "resources/public/js"
                     :asset-path       "/js"
                     :devtools         {:http-port 8000
                                        :http-root "resources/public"
                                        :reload-strategy :full
                                        :preloads [dev.refresh]}
                     :dev               {:modules {:core {:init-fn dev.core/init}}}
                     :release           {:modules {:core {:init-fn app.core/init}}}}

          :tests    {:target           :browser-test
                     :test-dir         "resources/public/js/test"
                     :ns-regexp        "-test$"
                     :devtools         {:http-port 8001
                                        :http-root "resources/public/js/test"}}

          :ci-tests {:target           :karma
                     :output-to        "target/ci.js"
                     :ns-regexp        "-test$"
                     :compiler-options {:static-fns false}}}}
